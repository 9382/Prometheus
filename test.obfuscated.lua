local z="Take one down and pass it around,"local r="No more bottles of beer"local Q="1 bottle of beer"local m=setmetatable({0,drink={z..("\n"..(r.." on the wall,")),"Go to the store and buy some more!"}},{__index=function(r,m)r[m]=nil print(r[m].." on the wall,")print(r[m]..",")print(z)r[m]=r[m-1]return Q.." on the wall,\n"end,__newindex=function(z,r,Q)rawset(z,r,Q or r.." bottles of beer")if rawget(z,r+1)then print(z[r].." on the wall,\n")end end,__call=function()return ipairs({Q,r})end})print(m[99])for z,r in m()do print(r.." on the wall,")print(r..",")print(m.drink[z])print("")end